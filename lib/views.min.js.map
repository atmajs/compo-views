{"version":3,"file":"views.js","sources":["D:/atma/components/views/builds/views.js"],"names":["root","factory","_global","global","window","_mask","mask","atma","require","Error","jmask","Compo","config","getDOMLibrary","undefined","j","$","obj_toFlatObject","obj_getType","obj_clone","obj","Object","prototype","toString","call","replace","clone","type","Date","i","imax","length","key","mix","prefix","out","arguments","forEach","x","prop","console","warn","toISOString","error","compo_walk","fn","TreeWalker","walk","compo","path_getCurrent","ctx","get","location","pathname","search","ActivityTracker","ViewState","NONE","LOADING","LOADED","RENDERING","RENDERED","ViewData","create","viewNode","nodes","route","state","path","default","constructor","_len","args","Array","_key","extend","this","getNodes","parse","ViewMap","ensure","viewManager","model","viewmap","Utils","Expression","eval","scope","xViewmap","filter","map","createViewDataFromNode","each","createRoutes","routes","add","attr","Boolean","getRouteByPath","bindRouter","xNested","isNested","log","ruta","navigate","current","defineProperties","tickStart","tickEnd","history","vm","show","loaderFn","dfr","_this","indexOf","push","requestProgressStart","done","requestProgressEnd","fail","cancelProgressEnd","setTimeout","progressStart","bind","cancelProgressStart","progressEnd","clearTimeout","emitIn","active","tick","configurable","enumerable","ViewManagerCompo","tagName","style","class","meta","attributes","base","routing","nested","slots","viewNavigate","sender","value","defaultView","params","viewActivation","viewDeactivation","notificationMsg","notificationType","next","activity","apply","concat","Collection","onRenderStart","ensureCompo_","onRenderEnd","elements","activityTracker","xRouting","viewData","find","await","owner","closest","parent","opts","Deferred","resolve","reject","initial","renderView","performShow","hideCompo_","hide_","showCompo_","show_","emit","_Compo$pipe","pipe","activate","run","renderAsync","frag","last","components","view","notify","message","name","set","children","prepend","throw_","errored_","String","Template","define","ViewCompo","view_NONE","view_DETACHED","view_ATTACHED","view_HIDDEN","detach","hide","then","xDetach","remove","append","registerHandler"],"mappings":";;;;;;;;;;AAWA,cAEA,SAAWA,EAAMC,GAChB,GAAIC,GAA4B,mBAAXC,QAAyBA,OAASC,OACnDC,EAAQH,EAAQI,MAAQJ,EAAQK,MAAQL,EAAQK,KAAKD,IAEzD,IAAa,MAATD,EAAe,CAClB,GAAuB,kBAAZG,SAGV,KAAMC,OAAM,wBAFZH,MAAOE,QAAQ,UAKjBP,EAAQC,EAASG,EAAOA,EAAMK,MAAOL,EAAMM,MAAON,EAAMM,MAAMC,OAAOC,kBACnEC,OAAW,SAAUX,EAAQG,EAAMS,EAAGJ,EAAOK,GAK/C,GAAIC,GAAkBC,EAAaC,GACnC,WAECD,EAAc,SAAUE,GACvB,MAAOC,QAAOC,UAAUC,SAASC,KAAKJ,GAAKK,QAAQ,WAAY,IAAIA,QAAQ,IAAK,KAGjF,WACCN,EAAY,SAAUC,GACrB,GAAW,MAAPA,GAA8B,gBAARA,GAAkB,MAAOA,EAEnD,IACIM,GADAC,EAAOT,EAAYE,EAGvB,IAAI,SAAWO,EACd,MAAO,IAAIC,MAAKR,EAEjB,IAAI,UAAYO,EAAM,CACrBD,IAGA,KAFA,GAAIG,GAAI,GACJC,EAAOV,EAAIW,SACNF,EAAIC,GACZJ,EAAMG,GAAKV,EAAUC,EAAIS,GAE1B,OAAOH,GAER,GAAI,WAAaC,EAAM,CACtBD,IACA,KAAK,GAAIM,KAAOZ,GACfM,EAAMM,GAAOb,EAAUC,EAAIY,GAE5B,OAAON,GAER,MAAON,OAITH,EAAmB,SAAUgB,EAAKC,GACjC,GAAIC,GAAuBrB,SAAjBsB,UAAU,MAAwBA,UAAU,EAEtD,IAAW,MAAPH,EAAa,MAAOE,EAExB,IAAIR,GAAOT,EAAYe,EAEvB,IAAI,UAAYN,EAIf,MAHAM,GAAII,QAAQ,SAAUC,EAAGT,GACxBZ,EAAiBqB,EAAGJ,EAAS,IAAML,EAAI,IAAKM,KAEtCA,CAGR,IAAI,WAAaR,EAAM,CAClBO,IAAQA,GAAU,IAEtB,IAAIF,GAAKM,EAAGC,CACZ,KAAKP,IAAOC,GAIX,GAHAK,EAAIL,EAAID,GACRO,EAAOL,EAASF,EAEP,MAALM,EAAJ,CAEA,GAAIX,GAAOT,EAAYoB,EACvB,QAAQX,GACP,IAAK,SACL,IAAK,QACJV,EAAiBqB,EAAGC,EAAMJ,EAC1B,SACD,KAAK,SACL,IAAK,SACL,IAAK,UACL,IAAK,OACL,IAAK,OACAI,IAAQJ,IACXK,QAAQC,KAAK,iCAAkCF,GAEhDJ,EAAII,GAAQD,CACZ,SACD,KAAK,OACJH,EAAII,GAAQD,EAAEI,aACd,SACD,SACCF,QAAQG,MAAM,0BAA2BhB,GACzCQ,EAAII,GAAQD,CACZ,WAGH,MAAOH,GAGR,OAAQR,GACP,IAAK,OACJM,EAAMA,EAAIS,aACV,MACD,KAAK,SACL,IAAK,SACL,IAAK,UACL,IAAK,OACL,IAAK,OACJ,KACD,SACCF,QAAQG,MAAM,0BAA2BhB,GAQ3C,MAJIO,KAAUC,IACbK,QAAQC,KAAK,iCAAkCP,GAEhDC,EAAID,GAAUD,EACPE,KAQT,IAAIS,IACJ,WAECA,EAAa,SAAU5C,EAAM6C,GAC5BvC,EAAKwC,WAAWC,KAAK/C,EAAM,SAAUgD,GACpC,MAAIA,KAAUhD,EAGP6C,EAAGG,GAHV,YAYH,IAA6CC,IAC7C,WAECA,EAAkB,SAAUC,GAC3B,MAAO5C,GAAKc,IAAI+B,IAAID,EAAK,YAAc/C,EAAOiD,SAASC,SAAWlD,EAAOiD,SAASE,UASpF,IA4GIC,GA5GAC,GACHC,KAAM,EACNC,QAAS,EACTC,OAAQ,EACRC,UAAW,EACXC,SAAU,GAGPC,EAAWxD,EAAK,SAASyD,QAC5BC,SAAU,KACVC,MAAO,KACPjB,MAAO,KACPkB,MAAO,KACPC,MAAOX,EAAUC,KACjBW,KAAM,KAKNC,WAAW,EACXC,YAAa,WACZ,IAAK,GAAIC,GAAOnC,UAAUL,OAAQyC,EAAOC,MAAMF,GAAOG,EAAO,EAAUH,EAAPG,EAAaA,IAC5EF,EAAKE,GAAQtC,UAAUsC,EAKxB,KAFA,GAAI5C,GAAO0C,EAAKzC,OACZF,EAAI,KACCA,EAAIC,GAAM,CAClB,GAAIQ,GAAIkC,EAAK3C,EACJ,OAALS,GAGJhC,EAAKc,IAAIuD,OAAOC,KAAMtC,KAGxBuC,SAAU,WACT,MAAqB,OAAjBD,KAAKZ,UACS,MAAbY,KAAKR,MAAuC,MAAvBQ,KAAKZ,SAASC,QACtCW,KAAKZ,SAASC,MAAQ3D,EAAKwE,MAAM,gBAAkBF,KAAKR,KAAO,MAEzDQ,KAAKZ,UAENY,KAAKX,SAIVc,GACHC,OAAQ,SAAgBC,EAAaC,EAAOhC,GAC3C,GAAIiC,GAAUF,EAAYE,OAC1B,IAAe,MAAXA,EACH,MAAOA,EAER,IAAItC,GAAKvC,EAAK8E,MAAMC,WAAWC,IAM/B,OALAH,GAAUF,EAAYM,MAAMJ,SAAWF,EAAYO,UAAY3C,EAAGoC,EAAYO,SAAUN,EAAOhC,EAAK+B,OACpG3E,EAAKI,MAAMuE,EAAYhB,OAAOwB,OAAO,QAAQC,IAAIX,EAAQY,wBAAwBC,KAAK,SAAUtD,GAC/F6C,EAAQ7C,EAAE4B,OAAS,GAAIJ,GAASqB,EAAQ7C,EAAE4B,OAAQ5B,KAG5C2C,EAAYE,QAAUA,GAE9BU,aAAc,SAAsBZ,GACnC,IAAK,GAAIjD,KAAOiD,GAAYE,QAC3BF,EAAYa,OAAOC,IAAI/D,EAAKiD,EAAYE,QAAQnD,KAGlD2D,uBAAwB,SAAgC3B,GACvD,MAAO,IAAIF,IACVE,SAAUA,EACVE,MAAOF,EAASgC,KAAK9B,MACrBE,KAAMJ,EAASgC,KAAK5B,KACpBC,UAAW4B,QAAQjC,EAASgC,KAAK,eAEnCE,eAAgB,SAAwBjB,EAAab,GACpD,GAAI0B,GAASb,EAAYa,OACrB5B,EAAQ4B,EAAO3C,IAAIiB,EACvB,IAAIF,EACH,MAAOA,EAER,IAAIiB,GAAUF,EAAYE,OAC1B,KAAK,GAAInD,KAAOmD,GACf,GAAIA,EAAQnD,GAAK,cAAe,EAC/B,MAAO8D,GAAO3C,IAAInB,EAGpB,OAAO,OAERmE,WAAY,SAAoBlB,EAAaC,EAAOhC,GACnD,GAAIiC,GAAUJ,EAAQC,OAAOC,EAAaC,EAAOhC,EACjD,IAAe,MAAXiC,EAEH,WADA3C,SAAQG,MAAM,uBAGf,IAAIsC,EAAYmB,WAAY,GAAQnB,EAAYoB,cAAe,EAG/D,IAAK,GAAIrE,KAAOmD,GACf3C,QAAQ8D,IAAI,OAAQtE,GACpBuE,KAAKR,IAAI/D,EAAK,SAAUkC,GACvBe,EAAYuB,SAAStC,EAAMuC,QAAQrC,WAWvC,WACCb,EAAkBjD,EAAK,SAASyD,OAAO1C,OAAOqF,kBAC7CC,UAAW,KACXC,QAAS,KACTtC,YAAa,SAAqBW,GACjCL,KAAKiC,WACLjC,KAAKkB,UACLlB,KAAKkC,GAAK7B,GAEX8B,KAAM,SAAc7C,EAAO8C,GAC1B,GAGIC,GAHAC,EAAQtC,KAER/C,EAAI+C,KAAKkB,OAAOqB,QAAQjD,EAW5B,OATU,KAANrC,GACHqC,EAAM+C,IAAMA,EAAMD,IAClBpC,KAAKkB,OAAOsB,KAAKlD,IAEjB+C,EAAMrC,KAAKkB,OAAOjE,GAAGoF,IAGtBrC,KAAKiC,QAAQO,KAAKlD,GAClBU,KAAKyC,uBACEJ,EAAIK,KAAK,WACf,MAAOJ,GAAMK,mBAAmBrD,KAC9BsD,KAAK,eAITH,qBAAsB,SAA8BnD,GACnDU,KAAK6C,oBACL7C,KAAK+B,UAAYe,WAAW9C,KAAK+C,cAAcC,KAAKhD,KAAMV,KAE3DqD,mBAAoB,SAA4BrD,GAC/CU,KAAKiD,sBACLjD,KAAKgC,QAAUc,WAAW9C,KAAKkD,YAAYF,KAAKhD,KAAMV,KAEvD2D,oBAAqB,WACpBE,aAAanD,KAAK+B,YAEnBc,kBAAmB,WAClBM,aAAanD,KAAKgC,UAEnBe,cAAe,WACd/C,KAAK6C,oBACL7C,KAAKkC,GAAGkB,OAAO,eAAgB,UAEhCF,YAAa,SAAqB5D,IACpB,MAATA,GAAiBU,KAAK6B,UAAYvC,KAGtCU,KAAKiD,sBACLjD,KAAK6C,oBACL7C,KAAKkC,GAAGkB,OAAO,eAAgB,SAEhCnB,QAAS,KACToB,QAAQ,EACR/D,MAAO,KACPgE,KAAM,KACNpB,GAAI,OACJL,SACCtD,IAAK,WACJ,MAAOyB,MAAKiC,QAAQjC,KAAKiC,QAAQ9E,OAAS,IAE3CoG,cAAc,EACdC,YAAY,QAUf,IAAIC,GAAmB/H,EAAKK,OAC3B2H,QAAS,MACTtC,MACCuC,MAAO,qBACPC,QAAS,aAEVC,MACCC,YACCC,KAAM,GACNxD,QAAS,GACTyD,SAAS,EACTC,QAAQ,IAIVC,OACCC,aAAc,SAAsBC,EAAQ5E,GAC3C,GAAI8C,GAAQtC,IAEZ,IAAIoE,IAAWpE,KAAf,CAEC,GAAI6B,GAAU7B,KAAKV,MAChBlB,EAAQyD,GAAWA,EAAQwC,OAASxC,EAAQwC,MAAMjG,KAMtD,OALA4B,MAAK4B,SAASpC,GAAQ8E,aAAa,IAAS5B,KAAK,WAC5Cb,IAAYS,EAAMhD,OACrBlB,EAAMgF,OAAO,iBAAkBd,EAAMhD,MAAMuC,QAAQ0C,WAG9C,IAERC,eAAgB,SAAwBJ,GACvC,GAAIA,IAAWpE,KAAf,CAEaA,KAAKV,OAASU,KAAKV,MAAM+E,OAASrE,KAAKV,MAAM+E,MAAMjG,KAEhE,QAAO,IAERqG,iBAAkB,SAA0BL,GAC3C,GAAIhG,GAAQ4B,KAAKV,OAASU,KAAKV,MAAM+E,OAASrE,KAAKV,MAAM+E,MAAMjG,KAI/D,OAHIA,IACHA,EAAMgF,OAAO,qBAEP,IAITzC,OACC+D,gBAAiB,GACjBC,iBAAkB,IAGnBpE,QAAS,KACTW,OAAQ,KACR5B,MAAO,KACPsF,KAAM,KAENC,SAAU,SAAkB9H,GAC3B,IAAK,GAAI4C,GAAOnC,UAAUL,OAAQyC,EAAOC,MAAMF,EAAO,EAAIA,EAAO,EAAI,GAAIG,EAAO,EAAUH,EAAPG,EAAaA,IAC/FF,EAAKE,EAAO,GAAKtC,UAAUsC,EAG5BE,MAAKoD,OAAO0B,MAAM9E,MAAO,iBAAkBjD,GAAMgI,OAAOnF,KAGzDF,YAAa,WACZM,KAAKkB,OAAS,GAAIS,MAAKqD,YAGxBC,cAAe,SAAuB3E,EAAOhC,GAC5C6B,EAAQC,OAAOJ,KAAMM,EAAOhC,GAC5B6B,EAAQc,aAAajB,KAErB,IAAIR,GAAOnB,EAAgBC,GACvBgB,EAAQa,EAAQmB,eAAetB,KAAMR,EAEzCQ,MAAKV,MAAQA,EACbU,KAAKX,MAAQC,GAASA,EAAM+E,MAAMpE,WAClCD,KAAKkF,aAAa,gBAClBlF,KAAKkF,aAAa,YAClBlF,KAAKoB,KAAK5B,KAAOA,GAElB2F,YAAa,SAAqBC,EAAU9E,EAAOhC,GAClD,GAAIgE,GAAQtC,IAWZ,IATAA,KAAKqF,gBAAkB,GAAI1G,GAAgBqB,MAE3CG,EAAQC,OAAOJ,KAAMM,EAAOhC,GACxB0B,KAAKsF,UACRnF,EAAQoB,WAAWvB,KAAMM,EAAOhC,GAEf,MAAd0B,KAAKV,OAAmC,MAAlBU,KAAKoB,KAAK5B,OACnCQ,KAAKV,MAAQa,EAAQmB,eAAetB,KAAMA,KAAKoB,KAAK5B,OAEnC,MAAdQ,KAAKV,MAAT,CAGA,GAAIiG,GAAWvF,KAAKV,MAAM+E,MACtBjG,EAAQ4B,KAAKwF,KAAK,OACT,OAATpH,GACHA,EAAMgF,OAAO,kBAEdmC,EAASnH,MAAQA,EACjB4B,KAAKqF,gBAAgBlD,KAAKnC,KAAKV,MAAO,WACrC,MAAOvD,GAAM0J,MAAMnD,OAGrBb,SAAU,WACT,GAAIiE,GAAQ3J,EAAM4J,QAAQ3F,KAAK4F,OAAQ,cACvC,OAAgB,OAATF,GAER9D,SAAU,SAAkBpC,EAAMqG,GACjC,GAAIvD,GAAQtC,KAERV,EAAQa,EAAQmB,eAAetB,KAAMR,EACzC,IAAa,MAATF,EAAe,CAClB,GAAI+C,GAAM,GAAI3G,GAAK,SAASoK,QAC5B,OAAID,IAAQA,EAAKvB,eAAgB,EACzBjC,EAAI0D,QAAQ/F,KAAKV,OAElB+C,EAAI2D,OAAO,mBAAqBxG,GAExC,GAAIyG,GAA+B,MAArB3G,EAAM+E,MAAMjG,KAC1B,OAAO4B,MAAKqF,gBAAgBlD,KAAK7C,EAAO,WACvC,MAAOgD,GAAM4D,WAAW5G,KACtBoD,KAAK,WACHuD,KAAY,GACf3G,EAAM+E,MAAMjG,MAAMgF,OAAO,eAAgB5D,GAE1C8C,EAAM6D,YAAY7G,MAIpB8G,WAAY,SAAoBhI,GAClB,MAATA,IAEHA,EAAMgF,OAAO,mBAAoBpD,MAClC5B,EAAMiI,UAGPC,WAAY,SAAoBlI,GAClB,MAATA,IAEHA,EAAMgF,OAAO,iBAAkBpD,MAChC5B,EAAMmI,UAGPC,KAAM,SAAczJ,GAGnB,IAAK,GAFD0J,GAEK9G,EAAOnC,UAAUL,OAAQyC,EAAOC,MAAMF,EAAO,EAAIA,EAAO,EAAI,GAAIG,EAAO,EAAUH,EAAPG,EAAaA,IAC/FF,EAAKE,EAAO,GAAKtC,UAAUsC,IAG3B2G,EAAc1K,EAAM2K,KAAK,UAAUF,KAAK1B,MAAM2B,GAAc1J,EAAMiD,MAAM+E,OAAOnF,KAGjF+G,SAAU,SAAkBrH,GAC3BlB,MAAMgF,OAAO,iBAAkB9D,EAAMuC,QAAQ0C,SAG9C2B,WAAY,SAAoB5G,GAC/B,GAAIgD,GAAQtC,IAEZ,OAAOtE,GAAK,SAASoK,SAASc,IAAI,SAAUb,EAASC,EAAQ3D,GAC5D,GAAI/C,EAAM+E,MAAMjG,MAEf,WADA2H,GAAQzG,EAGT,IAAIiF,GAASjF,EAAMuC,SAAWvC,EAAMuC,QAAQ0C,MAC5C7I,GAAKmL,YAAYvH,EAAM+E,MAAMpE,YAAcsE,OAAQA,GAAU,KAAM,KAAMjC,GAAOI,KAAK,SAAUoE,EAAM1I,GACpG,GAAI2I,GAAO3I,EAAM4I,WAAW5I,EAAM4I,WAAW7J,OAAS,GAClD8J,EAAOlL,EAAMW,UAAU8I,KAAK5I,KAAKmK,EAAM,OAC3CzH,GAAM+E,MAAMjG,MAAQ6I,EACpBlB,EAAQzG,QAIX6G,YAAa,SAAqB7G,GACjC,GAAIuC,GAAU7B,KAAKV,KACfuC,KAAYvC,IAGhBU,KAAKV,MAAQA,EACbU,KAAKoG,WAAWvE,EAAQwC,MAAMjG,OAC9B4B,KAAKsG,WAAWhH,EAAM+E,MAAMjG,SAG7B8I,OAAQ,SAAgBnK,EAAMoK,GACJ,IAArB3J,UAAUL,SACbJ,EAAOoK,EAAU,IAElBnH,KAAKW,MAAMgE,iBAAmB5H,EAC9BiD,KAAKW,MAAM+D,gBAAkByC,EAC7BnH,KAAKoD,OAAO,oBAAsBrG,KAAMA,EAAMoK,QAASA,KAGxDjC,aAAc,SAAsBkC,GACnC,GAAIC,GAAMvL,MAAMkE,MAAMsH,SAASF,EACZ,KAAfC,EAAIlK,QAGRrB,MAAMkE,MAAMuH,QAAQH,IAGrBI,OAAQ,SAAgBzJ,GACvBiC,KAAKX,MAAQ3D,EAAKwE,MAAM,6FAAsGnC,EAAMoJ,QAAU,gBAG/IM,SAAU,SAAkB1J,GAC3BiC,KAAK6E,SAAS,OACd7E,KAAK6E,SAAS,QAAS9G,GACvBiC,KAAKkH,OAAO,SAAUnJ,EAAMoJ,SAAWO,OAAO3J,OAO5C4J,EAAW,ksCACfjM,GAAKkM,OAAOnE,EAAkBkE,EAM9B,IAAIE,IACJ,WAEC,GAAIC,GAAY,EACZC,EAAgB,EAChBC,EAAgB,EAEhBC,EAAc,CAElBJ,GAAY9L,GACX8H,MACCC,YACCrE,WAAW,EACXyI,QAAQ,IAGVhE,OACCO,iBAAkB,WACjB,MAAIzE,MAAKT,QAAU0I,GACX,OAERjI,KAAKT,MAAQ0I,KAGfvE,QAAS,MACTtC,MACCwC,QAAS,SACTD,MAAO,qBAERsB,cAAe,aACf1F,MAAOuI,EACPzB,MAAO,WACN,GAAI/D,GAAQtC,IAEZA,MAAKmI,OAAOC,KAAK,WACZ9F,EAAM+F,WAAY,IACrB/F,EAAM/C,MAAQwI,EACdzF,EAAMlG,EAAEkM,aAIX/B,MAAO,WACFvG,KAAKT,OAASyI,GACjBhI,KAAK4F,OAAOxJ,EAAEmM,OAAOvI,KAAK5D,GAE3B4D,KAAKmC,QAENgG,KAAM,WAEL,MADAnI,MAAK5D,EAAE+L,QACA,GAAIzM,GAAK,SAASoK,UAAWC,WAErC5D,KAAM,WAEL,MADAnC,MAAK5D,EAAE+F,QACA,GAAIzG,GAAK,SAASoK,UAAWC,aAItCrK,EAAKkM,OAAOnE,EAAkB,OAAQoE,MAQvCnM,EAAK8M,gBAAgB,cAAe/E"}